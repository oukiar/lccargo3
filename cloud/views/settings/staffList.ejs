<!DOCTYPE html><html ng-app="myApp">    <head>	    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />	    <meta charset="utf-8" />	    <title>LC Cargo</title>	    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />	    <meta content="" name="description" />	    <meta content="" name="author" />		    <!--ADMIN REQUIREMENTS-->   	    <% include ../generals/ultraAdmin.ejs %>	    <script src="/cod/js/jquery-1.11.2.min.js"></script>	    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/themes/smoothness/jquery-ui.css"/>	    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.3/jquery-ui.min.js"></script>	    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=VT323">	    <script src="//www.parsecdn.com/js/parse-1.4.2.min.js"></script>	    <script src="/cod/js/moment.js"></script>        <script src="/cod/js/common.js"></script>			<style>	    .modalDialogEdit {	    	position: absolute;	    	font-family: Arial, Helvetica, sans-serif;	    	top: -89px;	    	right: 0;	    	bottom: 0;	    	left: 0;	  	height:130%;	    	background: rgba(0,0,0,0.8);	    	z-index: 99999;	    	opacity:0;	    	-webkit-transition: opacity 400ms ease-in;	    	-moz-transition: opacity 400ms ease-in;	    	transition: opacity 400ms ease-in;	    	pointer-events: none;	    }  	    .modalDialogEdit:target {	    	opacity:1;	    	pointer-events: auto;	    }	    .modalDialogEdit > div {	    	width: 544px;	    	position: relative;	    	margin: 10% auto;	    	padding: 5px 20px 13px 20px;	    	border-radius: 10px;	    	background: white;	    }    		</style>	  			    </head>    <!-- END HEAD -->    <!-- BEGIN BODY -->    <body class=" ">		<div class="screen">    <!--START TOPBAR-->    <% include partitions/topbar.ejs %>    <!-- START CONTAINER -->   		<% include partitions/sidebarSettings.ejs %>   <!-- START CONTAINER -->   <div class="page-container row-fluid">   <!-- SIDEBAR - START -->   <!--  SIDEBAR - END -->	   <!-- START CONTENT -->   <section class="wrapper" style='display:inline-block;width:100%;'>   <div class='col-lg-12 col-md-12 col-sm-12 col-xs-12' style="top:55px;">   <div class="page-title">		  	    <% include partitions/staffMenu.ejs%>     <h1 class="title" style="font-family: 'VT323', serif; font-size:50px; padding-left:13px;">Staff List</h1>	     <div id="content">		 <% include partitions/staffTable.ejs %>         </div>     		 </div>  		 </div>  	     </section>         <!-- END CONTENT --> 	     </div><!-- END CONTAINER -->		 </div>         <!-- LOAD FILES AT PAGE END FOR FASTER LOADING -->	 	 <%include ../generals/endFiles.ejs%>   	     <!--MODAL TO EDIT STAFF MEMBERS INFO-->         <div id="editStaffModal" class="modalDialogEdit">         <div>         <a href="#close" title="Close" class="closeB">X</a>	  	 <form name="regStaffForm">                      <div class="form-group">                          <label class="form-label" for="field-1">Name:</label> <a onclick="editName()" id="editName">Edit</a><a onclick="cancelName()" id="cancelName" style="display:none;">Cancel</a>                          <div class="controls">                              <input type="text" class="form-control" maxlength="55" id="editStaffName" name="editStaffName" disabled>		  					                          </div>                      </div>                      <div class="form-group">                          <label class="form-label" for="field-1">Position:</label> <a onclick="editPosition()" id="editPosition">Edit</a><a onclick="cancelPosition()" id="cancelPosition" style="display:none;">Cancel</a>                          <div class="controls">                              <input type="text" class="form-control" maxlength="55" id="editStaffJobPosition" name="editStaffJobPosition" disabled>                          </div>                      </div>                      <div class="form-group">                          <label class="form-label" for="field-1">Division:</label> <a onclick="editDivision()"  id="editDivision">Edit</a><a onclick="cancelDivision()" id="cancelDivision" style="display:none;">Cancel</a>                          <div class="controls">                              <input maxlength="55" id="editStaffDivision" name="editStaffDivision" type="text" class="form-control" disabled>                          </div>                      </div>					                      <div class="form-group">                          <label class="form-label" for="field-1">Telephone:</label> <a onclick="editTel()"  id="editTel">Edit</a><a onclick="cancelTel()" id="cancelTel" style="display:none;">Cancel</a>                          <div class="controls">                              <input type="text" class="form-control" maxlength="55" id="editStaffTelephone" name="editStaffTelephone" disabled>                          </div>                      </div>				                        <div class="form-group">                          <label class="form-label" for="field-1">Cellphone:</label> <a onclick="editCell()" id="editCell">Edit</a><a onclick="cancelCell()" id="cancelCell" style="display:none;">Cancel</a>                          <div class="controls">                              <input type="text" class="form-control" maxlength="55" id="editStaffCellphone" name="editStaffCellphone" disabled>                          </div>                      </div>                      <div class="form-group">                          <label class="form-label" for="field-1">Email:</label> <a onclick="editEmail()" id="editEmail">Edit</a><a onclick="cancelEmail()" id="cancelEmail" style="display:none;">Cancel</a>                          <div class="controls">                              <input type="text" class="form-control" maxlength="55" id="editStaffEmail" name="editStaffEmail" disabled>                          </div>                      </div>                      <div class="form-group">                          <label class="form-label" for="field-1">Address:</label> <a onclick="editAddress()" id="editAddress">Edit</a><a onclick="cancelAddress()" id="cancelAddress" style="display:none;">Cancel</a>                          <div class="controls">   			 	        <input type="text" class="form-control" maxlength="200" id="editStaffAddress" name="editStaffAddress" disabled>                          </div>                      </div>                      <div class="form-group">                          <label class="form-label" for="field-1">Username:</label> <a onclick="editUsr()" id="editUsr">Edit</a><a onclick="cancelUsr()" id="cancelUsr" style="display:none;">Cancel</a>                          <div class="controls">                          <input type="text" class="form-control" maxlength="21" id="editStaffUsername" name="editStaffUsername" disabled>                          </div>                      </div>						 <div class="form-group">						 <input type="hidden" name="editStaffCompanyLink" id="editStaffCompanyLink" value="">					 <a href="#close" id="btn_editStaff" style="length:50px;" value="Edit" class="pure-button pure-button-primary">Edit</a>					 					 <a href="#close" onclick="fullCancel()" class="pure-button">Close</a>                       </div>	          </form>           </div>        </div>						<script>		Parse.initialize("XEPryFHrd5Tztu45du5Z3kpqxDsweaP1Q0lt8JOb", "MDhb1hBngr2tx2v9TjyzoUhMcOFeWGJ56TWvChqi");			    var staffId;				var staffInfo;function cancelName(){var original = staffInfo["Name"];$('#editStaffName').val(original);$('#editStaffName').prop('disabled', true);$('#editName').show();$('#cancelName').hide();};function editPosition(){$('#editStaffJobPosition').prop('disabled', false);$('#editPosition').hide();$('#cancelPosition').show();}function cancelPosition(){var original = staffInfo["Position"];$('#editStaffJobPosition').val(original);$('#editStaffJobPosition').prop('disabled', true);$('#editPosition').show();$('#cancelPosition').hide();}function editDivision(){$('#editStaffDivision').prop('disabled', false);$('#editDivision').hide();$('#cancelDivision').show();}function cancelDivision(){var original = staffInfo["Division"];;$('#editStaffDivision').val(original);$('#editStaffDivision').prop('disabled', true);$('#editDivision').show();$('#cancelDivision').hide();}function editTel(){$('#editStaffTelephone').prop('disabled', false);$('#editTel').hide();$('#cancelTel').show();}function cancelTel(){var original = staffInfo["Telephone"];$('#editStaffTelephone').val(original);$('#editStaffTelephone').prop('disabled', true);$('#editTel').show();$('#cancelTel').hide();}function editCell(){$('#editStaffCellphone').prop('disabled', false);$('#editCell').hide();$('#cancelCell').show();}function cancelCell(){var original =  staffInfo["Cellphone"];$('#editStaffCellphone').val(original);$('#editStaffCellphone').prop('disabled', true);$('#editCell').show();$('#cancelCell').hide();}function editEmail(){$('#editStaffEmail').prop('disabled', false);$('#editEmail').hide();$('#cancelEmail').show();}function cancelEmail(){var original =  staff["email"];$('#editStaffEmail').val(original);$('#editStaffEmail').prop('disabled', true);$('#editEmail').show();$('#cancelEmail').hide();}function editAddress(){$('#editStaffAddress').prop('disabled', false);$('#editAddress').hide();$('#cancelAddress').show();}function cancelAddress(){var original =  staffInfo["Address"];$('#editStaffAddress').val(original);$('#editStaffAddress').prop('disabled', true);$('#editAddress').show();$('#cancelAddress').hide();}function editUsr(){$('#editStaffUsername').prop('disabled', false);$('#editUsr').hide();$('#cancelUsr').show();}function cancelUsr(){var original = staff["username"].split("@")[0];$('#editStaffUsername').val(original);$('#editStaffUsername').prop('disabled', true);$('#editUsr').show();$('#cancelUsr').hide();}function fullCancel(){cancelName();cancelPosition();cancelDivision();cancelTel();cancelCell();cancelEmail();cancelAddress();cancelUsr();}/* REGISTRATION STORE PROCESS */$("#btn_editStaff").click(function(){var Staff = Parse.Object.extend("Staff");var staFF = new Staff;staFF.id = staffInfo["objectId"];staFF.set("Name", $("#editStaffName").val() );staFF.set("Position", $("#editStaffJobPosition").val() );staFF.set("Division", $("#editStaffDivision").val() );staFF.set("Telephone", $("#editStaffTelephone").val() );staFF.set("Cellphone", $("#editStaffCellphone").val() );staFF.set("Address", $("#editStaffAddress").val() );staFF.save({success:function(staFF){	stemail = $("#editStaffEmail").val();	stusrname = $("#editStaffUsername").val() + "@" + $("#editStaffCompanyLink").val();Parse.Cloud.run('editStaffInfo', {staffId: staffId, stemail: stemail, stusrname: stusrname}, {success: function() {swal("Everything Up to date!", "Changes saved!", "success");$('#staffTableList').load(document.URL +  ' #staffTableList');fullCancel();    },error: function() { swal("Sorry something went wrong, please refresh the page and try again!");    }  });}});});</script>		    </body>	</html>