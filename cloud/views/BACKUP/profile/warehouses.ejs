<div id="tabs-2" style="display:none;"><div class="pull-right"></div><div class="row">    <div class="col-lg-12 col-md-12 container">        <div class="row">            <div class="col-md-6 col-xs-6" style="margin-top:13px;">            </div>                            <div class="col-md-6 col-xs-6" style="margin-top:10px;">                <form class="pure-form" method="post" action="/staff_warehouse_filter" align="right">   <!-- FIXME, RENEW THIS ALGORITHM -->                    <label for="filterby" class="pfont">By:</label>                                   <select  id="filterby" name="filterby">                        <option value="All">All</option>                        <option value="Shipper">Shipper</option>                        <option value="Receipt">Receipt #</option>                        <option value="Date">Date</option>                        <option value="Transport">Transport</option>                        <option value="Invoice">Invoice</option>                        <option value="Country">Country</option>                        <option value="Warehouse">WareHouse</option>                        <option value="volume">Volume</option>                    </select>                    <!-- IF ALL OR DATE SELECTED THIS SEARCH INPUT IS NOT USE-->                    <input type="hidden" placeholder="Search"  id="searchtext" name="searchtext">                           <label class="pfont">Date:</label>                    <select id="filterdate" name="filterdate">                        <option value="All">All</option>                        <option value="Today">Today</option>                        <option value="Yesterday">Yesterday</option>                        <option value="This week">This week</option>                        <option value="This month">This month</option>                        <option value="Last month">Last month</option>	                        <option value="Current year">Current Year</option>                    </select>			                                       </form>            </div>        </div>              <div class="panel">            <div class="panel-body">                <div id="warehousestable">                    <%include warehouses_dynamictable.ejs%>                </div>            </div>        </div>   <script>        function update_table()        {            InsertTable({                    cols:   /*Columnas definidas FIELD:TITLE or FIELD:{FIELDNEEDED:FIELDTITLE}*/                         {                                                        "Receipt":"",                            "Shipper":{"Name":""}, /*This is the sintax for return fields of pointers showed on table*/                            "ReceiptDate":"",                            "Country":"",                            "Volume":"",                            "Warehouse":"",                            "Invoice":"",                            "Transport":""                        },                                            /* AL PASAR EL PARAMETRO COLLECTION INDICAMOS QUE NECESITAMOS BUSQUEDA CON LISTA DE RESULTADOS */                    collection: "Warehouses", /* COLLECCION PRINCIPAL */                                        /* CONDICIONES */                    conditions: filter_conditions(),                    by: "Consignee",    /* CAMPO DE BUSQUEDA */                    value: {__type: "Pointer", className: "Clients", objectId: usrID},                                        /*BUSQUEDA DE SEARCH TIPO LIKE*/                    like: filter_like(),                                        document: "profile/warehouses_dynamictable",                    itemid: "warehousestable"                });                                }        function searchtext_keyup()        {            update_table();        }                            $("#filterdate").change(function(){            /*alert(JSON.stringify(filter_conditions() ) );*/            update_table();        });  	  	$("#filterby").change(function(){		  		if($("#filterby").val() == "Date")	  		{	  			$("#searchtext").replaceWith("<input type='text'  placeholder='From' id='searchtext' name='searchtext'>");				$("#fromTxt").replaceWith("<label class='pfont' style='display: block;' id='fromTxt'>Date:</label>");                $("#toTxt").replaceWith("<label class='pfont' id='toTxt'>To:</label>");                $("#filterdate").replaceWith("<input type='text'  placeholder='To' id='filterdate' name='filterdate'>");                            $( "#searchtext" ).datepicker();                $( "#filterdate" ).datepicker(                    {                        onSelect:                             function(dateText, inst)                             {                                            update_table();                            }                        });                        	  		}            else if($("#filterby").val() == "volume")  /* DISABLED BY NOW */	  		{            	  			$("#searchtext").replaceWith("<input type='text' placeholder='Search' id='searchtext' name='searchtext'><select id='volumecond' name='volumecond'><option value='lessthan'>Less than</option><option value='greaterthan'>Greater Than</option><option value='equal'>Equal</option></select>");                $("#filterdate").replaceWith("<select id='filterdate' name='filterdate'><option value='All'>All</option><option value='Today'>Today</option> <option value='Yestarday'>Yesterday</option><option value='This week'>This week</option><option value='This month'>This month</option><option value='Last month'>Last month</option><option value='Current year'>Current Year</option></select>");                        }            else if($("#filterby").val() == "All")	  		{            	  			$("#searchtext").replaceWith("<input type='hidden' placeholder='Search' id='searchtext' name='searchtext'>");                $("#filterdate").replaceWith("<select id='filterdate' name='filterdate'><option value='All'>All</option><option value='Today'>Today</option> <option value='Yestarday'>Yesterday</option><option value='This week'>This week</option><option value='This month'>This month</option><option value='Last month'>Last month</option><option value='Current year'>Current Year</option></select>");                                    $("#filterdate").change(function(){                        update_table();                    });                                       update_table();                            }            else            {	  			$("#searchtext").replaceWith("<input type='text' placeholder='Search' id='searchtext' name='searchtext'>");                $("#filterdate").replaceWith("<select id='filterdate' name='filterdate'><option value='All'>All</option><option value='Today'>Today</option> <option value='Yestarday'>Yesterday</option><option value='This week'>This week</option><option value='This month'>This month</option><option value='Last month'>Last month</option><option value='Current year'>Current Year</option></select>");                                $("#searchtext").keyup(searchtext_keyup);                                $("#filterdate").change(function(){                        update_table();                    });             }	  	});</script>				    </div>		</div>     		</div>