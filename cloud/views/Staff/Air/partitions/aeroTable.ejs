					  <fieldset class="container">	  			 			  <div ng-controller="MyController" class="my-controller">			  <div class="pull-right">					  </div>	 	    <div class="row">	      <div class="col-lg-12 col-md-12 container">	          <div class="row">            	            <div class="col-md-6 col-xs-6" style="margin-top:13px;">					 		   	<table>			<tr>				<th style="text-align: center;">Warehouse</th>			<th style="text-align: center;"><label for="filterby" class="pfont">By:</label></th>			<th></th>			<th style="text-align: center;"><label class="pfont">Date:</label></th>			</tr>		   			<tr>		   			  <td style="padding: 13px;">					  <select  id="warehousefilter" name="warehousefilter">		   		 <!--IF ALL SHOW DATE SELECT OPTIONS-->		   		     <option value="All">All</option>		   		 <!--IF CONSIGNEE SHOW DATE SELECT OPTIONS AND INPUT TO SPECIFY CONSIGNEE -->		   			 <option value="Los Angeles">Los Angeles</option>		   		 <!--IF SHIPPER SHOW DATE SELECT OPTIONS AND INPUT TO SPECIFY SHIPPER-->		   			 <option value="Miami">Miami</option>		   			 </select>		   			 </td>   		  		  		  		  		  		   			  <td style="padding: 8px;">	                   <select id="filterby" name="filterby" >	                      <option value="All">All</option>	                      <option value="Receipt">Receipt</option>	                      <option value="Consignee">Client</option>	                      <option value="Weight">Weight</option>	                      <option value="Volume">Volume</option>	                      <option value="Agent">Agent</option>	                      <option value="Content">Content</option>	                   </select>					   		   			 </td>		   		  		<td style="padding: 5px;"> 		   				<!-- IF ALL OR DATE SELECTED THIS SEARCH INPUT IS NOT USE-->		   		  	    <input type="hidden" placeholder="Search"  id="searchtext" name="searchtext">		   				</td>    					   				<td style="padding: 8px;">		   		  		<select id="filterdate" name="filterdate">		   		  	         <option value="">All</option>		   		  			 <option value="Today">Today</option>		   		  	         <option value="Yesterday">Yesterday</option>		   		  	         <option value="This week">This week</option>		   		  			 <option value="This month">This month</option>		   		  		     <option value="Last month">Last month</option>			   		  			 <option value="Current year">Current Year</option>		   		  	    </select>			   			    </td>		   		   		  	    <td style="padding: 8px;">		                   <button id="btn_search" class="pure-button pure-button-primary">Search</button>		   			    </td>		   		       </tr>		   		       </table>					 			 	          </div>	          <div class="col-md-6 col-xs-6" style="margin-top:10px;">  			  <div align="right"></div>              </div>	          </div>	          	          <div class="panel">	            <div class="panel-body">                    <% include aeroTableDynamic.ejs %>	            </div>	          </div>	         	        </div>	        	      </div>	    </div>	  </fieldset>	      <script>        $("#btn_search").click(function(){                update_table();            });                    $("#warehousefilter").change(function(){            update_table();        });        function update_table()        {                     if($("#warehousefilter").val() == "All")            {                dict_conditions = {filterby:"filterby",                                                             searchtext:"searchtext",                                                             filterdate:"filterdate",                                                            conditions:{equalTo:{Status:"NotProcessed",                                                                                Shipment:"Aereal"}                                                                            }                                                                }            }            else            {                dict_conditions = {filterby:"filterby",                                                             searchtext:"searchtext",                                                             filterdate:"filterdate",                                                            conditions:{equalTo:{Status:"NotProcessed",                                                                                Shipment:"Aereal",                                                                                 Warehouse:$("#warehousefilter").val()}                                                                            }                                                                }            }                        /*alert( JSON.stringify(dict_conditions) );*/                                    InsertTable({                    cols:                         {                            "Receipt":"",                            "Consignee":{Name:""},                             "Weight":"",                            "Volume":"",                            "Content":"",                            "Boxes":"",                            "Agent":"",                            "objectId":""                        },                    collection: "Warehouses",                                         conditions: filter_conditions_with_dict(dict_conditions),                                        like: filter_like("filterby", "searchtext"),                    document: "Staff/Air/partitions/aeroTableDynamic",                    itemid: "aeroTableDynamic"                });                               }                $("#filterby").change(function()            {                filterby_changed("filterby", "searchtext", "filterdate", update_table);             });            function wareceipt(objectId)    {        $.post("/getby",                 {by:"objectId", value:objectId, classvar:"Warehouses"},                 function(data){                                                    wh = JSON.parse(data);                                                            $("#Receipt").val(wh["Receipt"]);                    $("#ReceiptDate").val(moment(wh["ReceiptDate"]).format("MM[/]DD[/]YYYY") );                    $("#Agent").val(wh["Agent"]);                    $("#Transport").val(wh["Transport"]);                    $("#Warehouse").val(wh["Warehouse"]);                    $("#Country").val(wh["Country"]);                    $("#Prices").val(wh["Prices"]);                    $("#Weight").val(wh["Weight"]);                    $("#WeightVol").val(wh["WeightVol"]);                    $("#Volume").val(wh["Volume"]);                    $("#ExtraCost").val(wh["ExtraCost"]);                    $("#Invoice").val(wh["Invoice"]);                    $("#Value").val(wh["Value"]);                    $("#Zone").val(wh["Zone"]);                    $("#Content").val(wh["Content"]);                    $("#GeneralNotes").val(wh["GeneralNotes"]);                    $("#InternalNotes").val(wh["InternalNotes"]);                                                            var nrows = 1;                    boxes = JSON.parse(wh["Boxes"]);                                        for(box in boxes)                    {                                                if(typeof $("#Length-"+nrows.toString() ).val() == "undefined" )                        {                            $( "#btn_addbox" ).trigger("click");                        }                                                $("#Length-"+nrows.toString() ).val(boxes[box]["length"]);                        $("#Width-"+nrows.toString() ).val(boxes[box]["width"]);                        $("#Height-"+nrows.toString() ).val(boxes[box]["height"]);                        $("#Weight-"+nrows.toString() ).val(boxes[box]["weight"]);                        $("#Boxes-"+nrows.toString() ).val(boxes[box]["boxes"]);                                                nrows += 1;                    }                });    }            </script>	  	  