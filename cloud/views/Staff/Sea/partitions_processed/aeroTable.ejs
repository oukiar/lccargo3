					  <fieldset class="container">	  			 			  <div ng-controller="MyController" class="my-controller">			  <div class="pull-right">					  </div>	 	    <div class="row">	      <div class="col-lg-12 col-md-12 container">	          <div class="row">            	            <div class="col-md-6 col-xs-6" style="margin-top:13px;">                    <h2>Warehouse: </h2>					 <select  id="warehousefilter" name="warehousefilter">                         <option value="All">All</option>   			         </select>	          	            </div>	            <div class="col-md-6 col-xs-6" style="margin-top:10px;">			<div align="right">			  			        <input type="hidden" placeholder="Search" id="searchtext" name="searchtext">			               <label for="filterby" class="pfont">By:</label>			               <select id="filterby" name="filterby" >			                   <option value="All">All</option>			                   <option value="ReceiptNum">Receipt</option>			                   <option value="InternalNotes">Labels packet</option>			                   <option value="Weight">Weight</option>			                   <option value="Volume">Volume</option>			                   <option value="Agent">Agent</option>			                   <option value="Country">Country</option>			                   <option value="Warehouse">Warehouse</option>			               </select>                                                                        <button id="btn_search" class="pure-button pure-button-primary">Search</button>						</div>	            </div>	          </div>	          	          <div class="panel">	            <div class="panel-body">                    <% include aeroTableDynamic.ejs %>	            </div>	          </div>	         	        </div>	        	      </div>	    </div>	  </fieldset>	      <script>            Parse.initialize("XEPryFHrd5Tztu45du5Z3kpqxDsweaP1Q0lt8JOb", "MDhb1hBngr2tx2v9TjyzoUhMcOFeWGJ56TWvChqi");                    /* GLOBAL USER */        var user;        /* OBTENCION Y ALMACENAMIENTO DEL CURRENT USER PARA USARSE CLIENTSIDE */        var query = new Parse.Query("User");                query.descending('createdAt');        query.include("Company");                query.get("<%= user.id%>", {            success:                 function(object)                {                    /* SAVE USER FOR FUTURE OPERATIONS */                    user = object;                                                            /* FILL THE WAREHOUSES SELECT FILTER */                    var query = new Parse.Query("Cellars");                                        query.equalTo("Company", {__type: "Pointer", className: "Companies", objectId: user.get("Company").id} );                    query.descending('createdAt');                                        query.find({                        success:                             function(results)                            {                                for(i in results)                                {                                                                        wareselect = document.getElementById("warehousefilter");                                    wareselect.options[wareselect.options.length] = new Option(results[i].get("Name"), results[i].id);                                                                    }                                                            }                        });                                                        }            });                    $("#btn_search").click(function(){            update_table();        });                $("#warehousefilter").change(function(){            update_table();        });                $("#filterby").change(function()            {                filterby_changed("filterby", "searchtext", "filterdate", update_table, searchtext_keyup);             });                function wareceipt(objectId)    {            $.post("/getby",                 {by:"objectId", value:objectId, classvar:"Warehouses"},                 function(data){                                                    wh = JSON.parse(data);                                                            $("#Receipt").val(wh["Receipt"]);                    $("#ReceiptDate").val(moment(wh["ReceiptDate"]).format("MM[/]DD[/]YYYY") );                    $("#Agent").val(wh["Agent"]);                    $("#Transport").val(wh["Transport"]);                    $("#Warehouse").val(wh["Warehouse"]);                    $("#Country").val(wh["Country"]);                    $("#Prices").val(wh["Prices"]);                    $("#Weight").val(wh["Weight"]);                    $("#WeightVol").val(wh["WeightVol"]);                    $("#Volume").val(wh["Volume"]);                    $("#ExtraCost").val(wh["ExtraCost"]);                    $("#Invoice").val(wh["Invoice"]);                    $("#Value").val(wh["Value"]);                    $("#Zone").val(wh["Zone"]);                    $("#Content").val(wh["Content"]);                    $("#GeneralNotes").val(wh["GeneralNotes"]);                    $("#InternalNotes").val(wh["InternalNotes"]);                                                            var nrows = 1;                    boxes = JSON.parse(wh["Boxes"]);                                        for(box in boxes)                    {                                                if(typeof $("#Length-"+nrows.toString() ).val() == "undefined" )                        {                            $( "#btn_addbox" ).trigger("click");                        }                                                $("#Length-"+nrows.toString() ).val(boxes[box]["length"]);                        $("#Width-"+nrows.toString() ).val(boxes[box]["width"]);                        $("#Height-"+nrows.toString() ).val(boxes[box]["height"]);                        $("#Weight-"+nrows.toString() ).val(boxes[box]["weight"]);                        $("#Boxes-"+nrows.toString() ).val(boxes[box]["boxes"]);                                                nrows += 1;                    }                });        }            </script>	  	  